<!DOCTYPE>
<html>
	<header>
		<meta charset="utf-8">
		<style>
			#resultContainer {
				display: flex;
				flex-direction: column;
			}
			.error {
				border: 1px solid red;
			}
		</style>
	</header>
	<body>
		<form id="myForm" method="GET" action="server">
			<div id="resultContainer">
				<input id="name" type="text"  name="fio"   placeholder="ФИО">
				<input id="email" type="email" name="emil"  placeholder="Email">
				<input id="phone" type="phone" name="phone" placeholder="Телефон">
				<button type="submit" id="submitButton">Отправить</button>
			</div>
		</form>
	</body>
	<script>
		document.getElementById("submitButton").onclick = function (e) {
			["name", "email", "phone"].forEach(function (name) {
				console.log("moderate" + name.charAt(0).toUpperCase() + name.substr(1));
				if(!window["moderate" + name.charAt(0).toUpperCase() + name.substr(1)](phone.value)) {
					field.className += " error";
				}
			});
			document.getElementById("submitButton").disabled = true;
			e.preventDefault();
		};

		function moderateName(name)
		{
			return null !== name.match(/^\s*(\S+\s+){2}\S+\s*$/);
		}

		console.log(moderateName("i i i"));
		console.log(moderateName(" i i i "));
		console.log(moderateName("Штльц Евгений Сергеевич"));
		console.log(!moderateName(""));
		console.log(!moderateName("i i i i"));
		//console.log(!moderateName("i i i*"));


		function moderateEmail(mail) 
		{
			if(null === mail.match(/.+\@/)) { // replace mailregex.ru
				return false;
			}

			if (null === mail.match(/(ya\.ru|yandex\.(ru|ua|by|kz|com))$/)) {
				return false;
			}

			return true;
		}

		console.log('MAIL');
		console.log(moderateEmail("ESSch@yandex.ru"));
		console.log(moderateEmail("ESSch@sub.yandex.ru"));
		console.log(moderateEmail("ё@yandex.ru"));
		console.log(!moderateEmail("mail.ya"));
		console.log(!moderateEmail(""));
		console.log(!moderateEmail("yandex.ru"));

		function moderatePhone(phone) 
		{
			if(null === phone.match(/^\+7\(\d{3}\)\d{3}-\d{2}-\d{2}$/)) {
				return false;
			}

			let digits = phone.match(/\d/g);
			
			if (null === digits) {
				return false;
			}

			let sum = digits.reduce(function (sum, digit) {
				return +sum + +digit;  
			}, 0);

			if (sum > 30) {
				return false;
			}

			return true;
		}
		console.log("phone");
		console.log(moderatePhone("+7(111)111-11-11"));
		console.log(!moderatePhone("+7(111)111-11-111"));
		console.log(!moderatePhone("+7(333)334-22-33"));
		console.log(!moderatePhone("+7(11a)334-22-33"));
	</script>
	<script src="index.js"></script>
</html>